<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Pool Control | United World</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e1a 0%, #0f1422 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #2a2f3f;
        }
        
        .header h1 {
            font-size: 28px;
            background: linear-gradient(135deg, #00ff9d, #00cc7a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .admin-badge {
            background: #2a2f3f;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            color: #00ff9d;
            border: 1px solid #00ff9d;
        }
        
        .nav-links {
            display: flex;
            gap: 15px;
        }
        
        .nav-links a {
            color: #8a8f9f;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .nav-links a:hover {
            background: #2a2f3f;
            color: #00ff9d;
        }
        
        .nav-links a.active {
            background: #00ff9d;
            color: #0a0e1a;
        }
        
        /* Cards Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: rgba(20, 25, 40, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid #2a2f3f;
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.2s, border-color 0.2s;
        }
        
        .card:hover {
            border-color: #00ff9d;
            transform: translateY(-2px);
        }
        
        .card-title {
            font-size: 16px;
            color: #8a8f9f;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .card-value {
            font-size: 36px;
            font-weight: bold;
            color: #00ff9d;
            margin-bottom: 5px;
        }
        
        .card-subtitle {
            font-size: 14px;
            color: #8a8f9f;
        }
        
        /* Control Panel */
        .control-panel {
            background: rgba(20, 25, 40, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid #2a2f3f;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .control-panel h2 {
            color: #00ff9d;
            margin-bottom: 20px;
            font-size: 20px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #8a8f9f;
            font-size: 14px;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            background: #1a1f2f;
            border: 1px solid #2a2f3f;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            transition: all 0.2s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #00ff9d;
            box-shadow: 0 0 0 3px rgba(0, 255, 157, 0.1);
        }
        
        .form-group input.readonly {
            background: #252a3a;
            color: #8a8f9f;
            cursor: not-allowed;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #00ff9d;
            color: #0a0e1a;
        }
        
        .btn-primary:hover {
            background: #00cc7a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 157, 0.3);
        }
        
        .btn-secondary {
            background: #2a2f3f;
            color: #fff;
        }
        
        .btn-secondary:hover {
            background: #3a4055;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: #ff4757;
            color: #fff;
        }
        
        .btn-warning:hover {
            background: #ff3344;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 71, 87, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Alerts */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .alert-success {
            background: rgba(0, 255, 157, 0.1);
            border: 1px solid #00ff9d;
            color: #00ff9d;
        }
        
        .alert-error {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            color: #ff4757;
        }
        
        .alert-warning {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            color: #ffc107;
        }
        
        .alert-info {
            background: rgba(23, 162, 184, 0.1);
            border: 1px solid #17a2b8;
            color: #17a2b8;
        }
        
        /* Popup Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal {
            background: #1a1f2f;
            border: 1px solid #00ff9d;
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .modal-icon {
            font-size: 48px;
            color: #00ff9d;
            margin-bottom: 20px;
        }
        
        .modal h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #00ff9d;
        }
        
        .modal p {
            color: #8a8f9f;
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .modal-price {
            font-size: 28px;
            font-weight: bold;
            color: #00ff9d;
            margin: 15px 0;
            padding: 15px;
            background: #252a3a;
            border-radius: 8px;
        }
        
        .modal-close {
            margin-top: 20px;
            padding: 10px 30px;
        }
        
        /* Price Floor Indicator */
        .price-floor-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #252a3a;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .floor-safe {
            color: #00ff9d;
        }
        
        .floor-warning {
            color: #ffc107;
        }
        
        .floor-critical {
            color: #ff4757;
        }
        
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        
        .dot-safe {
            background: #00ff9d;
            box-shadow: 0 0 10px #00ff9d;
        }
        
        .dot-warning {
            background: #ffc107;
            box-shadow: 0 0 10px #ffc107;
        }
        
        .dot-critical {
            background: #ff4757;
            box-shadow: 0 0 10px #ff4757;
        }
        
        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 255, 157, 0.3);
            border-radius: 50%;
            border-top-color: #00ff9d;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .button-group {
                justify-content: center;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üîß Pool Control System</h1>
            <div class="admin-badge">
                Admin: {{ session.get('user', 'Unknown') }}
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="nav-links">
            <a href="/admin">Dashboard</a>
            <a href="/admin/deposits">Deposits</a>
            <a href="/admin/withdrawals">Withdrawals</a>
            <a href="/admin/users">Users</a>
            <a href="/admin/pool" class="active">Pool Control</a>
            <a href="/admin/daily-limits">Daily Limits</a>
            <a href="/admin/tax">Tax</a>
            <a href="/admin/logs">Logs</a>
            <a href="/trade">Back to Trade</a>
        </div>
        
        <!-- Alerts -->
        <div class="alert alert-success" id="successAlert"></div>
        <div class="alert alert-error" id="errorAlert"></div>
        <div class="alert alert-warning" id="warningAlert"></div>
        <div class="alert alert-info" id="infoAlert"></div>
        
        <!-- Market Stats Cards -->
        <div class="grid">
            <div class="card">
                <div class="card-title">üí∞ INR Pool</div>
                <div class="card-value" id="inrPool">‚Çπ0.00</div>
                <div class="card-subtitle">Available liquidity in INR</div>
            </div>
            
            <div class="card">
                <div class="card-title">ü™ô MRX Pool</div>
                <div class="card-value" id="mrxPool">0.000000</div>
                <div class="card-subtitle">Available MRX in pool</div>
            </div>
            
            <div class="card">
                <div class="card-title">üìä Current Price</div>
                <div class="card-value" id="currentPrice">‚Çπ0.0000</div>
                <div class="card-subtitle">1 MRX = ? INR</div>
            </div>
            
            <div class="card">
                <div class="card-title">üõ°Ô∏è Price Floor</div>
                <div class="card-value" id="priceFloor">‚Çπ1.00</div>
                <div class="card-subtitle">Minimum price enforced</div>
            </div>
            
            <div class="card">
                <div class="card-title">‚öñÔ∏è INR Pool Minimum</div>
                <div class="card-value" id="minInrPool">‚Çπ1,000.00</div>
                <div class="card-subtitle">Minimum INR pool balance</div>
            </div>
            
            <div class="card">
                <div class="card-title">üìà Price Status</div>
                <div class="card-value" id="priceStatus">
                    <span class="dot dot-safe"></span> Safe
                </div>
                <div class="card-subtitle" id="priceMargin">0.00 above floor</div>
            </div>
        </div>
        
        <!-- Control Panel -->
        <div class="control-panel">
            <h2>‚öôÔ∏è Manual Pool Adjustment</h2>
            
            <div class="form-grid">
                <div class="form-group">
                    <label>INR Pool (‚Çπ)</label>
                    <input type="number" id="inrInput" step="0.01" min="0" placeholder="Enter INR amount">
                </div>
                
                <div class="form-group">
                    <label>MRX Pool</label>
                    <input type="number" id="mrxInput" step="0.000001" min="0.000001" placeholder="Enter MRX amount">
                </div>
                
                <div class="form-group">
                    <label>Resulting Price</label>
                    <input type="text" id="previewPrice" class="readonly" readonly placeholder="Price preview">
                </div>
            </div>
            
            <!-- Price Floor Warning -->
            <div class="price-floor-indicator" id="floorWarning" style="display: none;">
                <span class="dot dot-warning"></span>
                <span id="floorMessage">Warning: Price would be below ‚Çπ1.00 floor!</span>
            </div>
            
            <!-- Pool Protection Info -->
            <div class="price-floor-indicator" id="poolProtection" style="margin-bottom: 20px;">
                <span class="dot dot-safe"></span>
                <span id="poolMessage">INR pool must remain above ‚Çπ1,000.00</span>
            </div>
            
            <!-- Action Buttons -->
            <div class="button-group">
                <button class="btn btn-primary" id="updateBtn" onclick="updatePool()">
                    <span>üíæ Update Pool</span>
                </button>
                
                <button class="btn btn-warning" id="resetBtn" onclick="resetPool()">
                    <span>üîÑ Reset to 1000/1000</span>
                </button>
                
                <button class="btn btn-secondary" id="refreshBtn" onclick="fetchPoolData()">
                    <span>üîÑ Refresh Data</span>
                </button>
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="control-panel">
            <h2>‚ö° Quick Actions</h2>
            
            <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <button class="btn btn-secondary" onclick="setPool(2000, 1000)">
                    Set 2000/1000 (‚Çπ2.00)
                </button>
                
                <button class="btn btn-secondary" onclick="setPool(1500, 1000)">
                    Set 1500/1000 (‚Çπ1.50)
                </button>
                
                <button class="btn btn-secondary" onclick="setPool(1100, 1000)">
                    Set 1100/1000 (‚Çπ1.10)
                </button>
                
                <button class="btn btn-secondary" onclick="setPool(1000, 1000)">
                    Set 1000/1000 (‚Çπ1.00)
                </button>
            </div>
        </div>
        
        <!-- System Info -->
        <div class="control-panel">
            <h2>‚ÑπÔ∏è System Information</h2>
            
            <div class="grid" style="grid-template-columns: repeat(2, 1fr);">
                <div>
                    <p><strong>Price Floor:</strong> ‚Çπ1.00 per MRX (cannot go below)</p>
                    <p><strong>Min INR Pool:</strong> ‚Çπ1,000.00 (withdrawal protection)</p>
                    <p><strong>Max Single Order:</strong> ‚Çπ1,000.00</p>
                </div>
                <div>
                    <p><strong>Daily Trading Limit:</strong> ‚Çπ10,000.00 per user</p>
                    <p><strong>Tax Rate:</strong> 5% (BUY orders only)</p>
                    <p><strong>Last Updated:</strong> <span id="lastUpdated">Never</span></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal">
            <div class="modal-icon">‚úÖ</div>
            <h3>Pool Updated Successfully!</h3>
            <p id="modalMessage">Pool has been updated</p>
            <div class="modal-price" id="modalPrice">‚Çπ0.0000</div>
            <p id="modalDetails"></p>
            <button class="btn btn-primary modal-close" onclick="closeModal()">Close</button>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const inrPoolEl = document.getElementById('inrPool');
        const mrxPoolEl = document.getElementById('mrxPool');
        const currentPriceEl = document.getElementById('currentPrice');
        const priceFloorEl = document.getElementById('priceFloor');
        const minInrPoolEl = document.getElementById('minInrPool');
        const inrInput = document.getElementById('inrInput');
        const mrxInput = document.getElementById('mrxInput');
        const previewPrice = document.getElementById('previewPrice');
        const floorWarning = document.getElementById('floorWarning');
        const floorMessage = document.getElementById('floorMessage');
        const poolMessage = document.getElementById('poolMessage');
        const priceStatus = document.getElementById('priceStatus');
        const priceMargin = document.getElementById('priceMargin');
        const lastUpdated = document.getElementById('lastUpdated');
        const successAlert = document.getElementById('successAlert');
        const errorAlert = document.getElementById('errorAlert');
        const warningAlert = document.getElementById('warningAlert');
        const infoAlert = document.getElementById('infoAlert');
        
        // Constants
        const PRICE_FLOOR = 1.0;
        const MIN_INR_POOL = 1000.0;
        
        // State
        let currentInrPool = 0;
        let currentMrxPool = 0;
        let currentPrice = 0;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            fetchPoolData();
            
            // Add input listeners for preview
            inrInput.addEventListener('input', previewPoolUpdate);
            mrxInput.addEventListener('input', previewPoolUpdate);
        });
        
        // Fetch current pool data
        async function fetchPoolData() {
            showLoading(true);
            
            try {
                const response = await fetch('/api/price');
                const data = await response.json();
                
                if (data.success) {
                    currentInrPool = data.inr_pool;
                    currentMrxPool = data.mrx_pool;
                    currentPrice = data.price;
                    
                    // Update display
                    inrPoolEl.textContent = `‚Çπ${data.inr_pool.toFixed(2)}`;
                    mrxPoolEl.textContent = data.mrx_pool.toFixed(6);
                    currentPriceEl.textContent = `‚Çπ${data.price.toFixed(4)}`;
                    
                    // Set input values
                    inrInput.value = data.inr_pool.toFixed(2);
                    mrxInput.value = data.mrx_pool.toFixed(6);
                    
                    // Update price status
                    updatePriceStatus(data.price);
                    
                    // Check pool minimum
                    if (data.inr_pool < MIN_INR_POOL) {
                        showWarning(`‚ö†Ô∏è INR pool is below minimum! Current: ‚Çπ${data.inr_pool.toFixed(2)}, Minimum: ‚Çπ${MIN_INR_POOL.toFixed(2)}`);
                        document.getElementById('poolProtection').innerHTML = `
                            <span class="dot dot-critical"></span>
                            <span style="color: #ff4757;">CRITICAL: INR pool below ‚Çπ${MIN_INR_POOL.toFixed(2)}!</span>
                        `;
                    }
                    
                    // Preview current price
                    previewPrice.value = `‚Çπ${data.price.toFixed(4)}`;
                    
                    // Update timestamp
                    lastUpdated.textContent = new Date().toLocaleString();
                }
            } catch (error) {
                showError('Failed to fetch pool data');
                console.error(error);
            } finally {
                showLoading(false);
            }
        }
        
        // Preview pool update
        function previewPoolUpdate() {
            const inr = parseFloat(inrInput.value) || 0;
            const mrx = parseFloat(mrxInput.value) || 0.000001;
            
            if (mrx > 0) {
                const newPrice = inr / mrx;
                previewPrice.value = `‚Çπ${newPrice.toFixed(4)}`;
                
                // Check price floor
                if (newPrice < PRICE_FLOOR) {
                    floorWarning.style.display = 'flex';
                    floorMessage.textContent = `Warning: Price would be ‚Çπ${newPrice.toFixed(4)} which is below ‚Çπ${PRICE_FLOOR.toFixed(2)} floor!`;
                    document.getElementById('updateBtn').disabled = true;
                } else {
                    floorWarning.style.display = 'none';
                    document.getElementById('updateBtn').disabled = false;
                }
                
                // Check INR pool minimum
                if (inr < MIN_INR_POOL) {
                    document.getElementById('poolProtection').innerHTML = `
                        <span class="dot dot-warning"></span>
                        <span style="color: #ffc107;">Warning: INR pool would be below minimum ‚Çπ${MIN_INR_POOL.toFixed(2)}</span>
                    `;
                } else {
                    document.getElementById('poolProtection').innerHTML = `
                        <span class="dot dot-safe"></span>
                        <span>INR pool must remain above ‚Çπ${MIN_INR_POOL.toFixed(2)}</span>
                    `;
                }
            }
        }
        
        // Update price status display
        function updatePriceStatus(price) {
            const margin = price - PRICE_FLOOR;
            priceMargin.textContent = `‚Çπ${margin.toFixed(4)} above floor`;
            
            if (price <= PRICE_FLOOR) {
                priceStatus.innerHTML = '<span class="dot dot-critical"></span> At Floor';
            } else if (price <= PRICE_FLOOR + 0.5) {
                priceStatus.innerHTML = '<span class="dot dot-warning"></span> Near Floor';
            } else {
                priceStatus.innerHTML = '<span class="dot dot-safe"></span> Safe';
            }
        }
        
        // Update pool
        async function updatePool() {
            const inr = parseFloat(inrInput.value);
            const mrx = parseFloat(mrxInput.value);
            
            // Validation
            if (inr < 0 || mrx <= 0) {
                showError('Invalid pool values. MRX must be positive.');
                return;
            }
            
            const newPrice = inr / mrx;
            if (newPrice < PRICE_FLOOR) {
                showError(`Cannot set pool. Price would be ‚Çπ${newPrice.toFixed(4)} which is below ‚Çπ${PRICE_FLOOR.toFixed(2)} floor.`);
                return;
            }
            
            if (inr < MIN_INR_POOL) {
                showWarning(`Warning: INR pool would be below minimum ‚Çπ${MIN_INR_POOL.toFixed(2)}. Proceed with caution.`);
            }
            
            showLoading(true);
            
            try {
                const response = await fetch('/api/admin/adjust-pool', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        inr_pool: inr,
                        mrx_pool: mrx
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // Show success modal
                    document.getElementById('modalMessage').textContent = 'Pool has been updated successfully';
                    document.getElementById('modalPrice').textContent = `‚Çπ${data.new_price.toFixed(4)}`;
                    document.getElementById('modalDetails').textContent = 
                        `INR: ‚Çπ${data.new_inr_pool.toFixed(2)} | MRX: ${data.new_mrx_pool.toFixed(6)}`;
                    document.getElementById('successModal').style.display = 'flex';
                    
                    // Refresh data
                    await fetchPoolData();
                    
                    // Log admin action
                    logAdminAction('adjust_pool', `Adjusted pool to ‚Çπ${inr}/${mrx} (Price: ‚Çπ${newPrice.toFixed(4)})`);
                } else {
                    showError(data.error || 'Failed to update pool');
                }
            } catch (error) {
                showError('Failed to update pool');
                console.error(error);
            } finally {
                showLoading(false);
            }
        }
        
        // Reset pool to default 1000/1000
        async function resetPool() {
            if (!confirm('Are you sure you want to reset the pool to 1000 INR / 1000 MRX?')) {
                return;
            }
            
            await setPool(1000, 1000);
        }
        
        // Set specific pool values
        async function setPool(inr, mrx) {
            inrInput.value = inr.toFixed(2);
            mrxInput.value = mrx.toFixed(6);
            previewPoolUpdate();
            await updatePool();
        }
        
        // Close modal
        function closeModal() {
            document.getElementById('successModal').style.display = 'none';
        }
        
        // Show loading state
        function showLoading(isLoading) {
            const buttons = document.querySelectorAll('.btn');
            if (isLoading) {
                buttons.forEach(btn => {
                    btn.disabled = true;
                    btn.innerHTML = '<span class="spinner"></span> Loading...';
                });
            } else {
                buttons.forEach(btn => {
                    btn.disabled = false;
                    btn.innerHTML = btn.id === 'updateBtn' ? 'üíæ Update Pool' :
                                   btn.id === 'resetBtn' ? 'üîÑ Reset to 1000/1000' :
                                   btn.id === 'refreshBtn' ? 'üîÑ Refresh Data' :
                                   btn.textContent;
                });
            }
        }
        
        // Show success message
        function showSuccess(message) {
            successAlert.textContent = message;
            successAlert.style.display = 'block';
            setTimeout(() => {
                successAlert.style.display = 'none';
            }, 5000);
        }
        
        // Show error message
        function showError(message) {
            errorAlert.textContent = message;
            errorAlert.style.display = 'block';
            setTimeout(() => {
                errorAlert.style.display = 'none';
            }, 5000);
        }
        
        // Show warning message
        function showWarning(message) {
            warningAlert.textContent = message;
            warningAlert.style.display = 'block';
            setTimeout(() => {
                warningAlert.style.display = 'none';
            }, 5000);
        }
        
        // Show info message
        function showInfo(message) {
            infoAlert.textContent = message;
            infoAlert.style.display = 'block';
            setTimeout(() => {
                infoAlert.style.display = 'none';
            }, 5000);
        }
        
        // Log admin action (mock - actual logging happens on server)
        function logAdminAction(action, details) {
            console.log(`Admin action: ${action} - ${details}`);
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('successModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>
